<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8' />
    <title>Xuanzang's Journey</title>
    <meta name="description" content="Xuanzang left his home as a Buddhist monk and returned as a master" />
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.50.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.50.0/mapbox-gl.css' rel='stylesheet' />
    <style>
      body {
        margin: 0;
        padding: 0;
      }

      #map {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 100%;
      }
      .mapboxgl-popup-content p {
       width: 600px;
      }
      .overlay-background {
        opacity: 0.5;
        background-color: #000;
        z-index: 5;
        padding: 10px;
        color: #fff;
        position: absolute;
      }
      .project-description {
        top: 100px;
      }
    </style>
  </head>
  <body>
    <h1 class="overlay-background">Xuanzang's Journey</h1>
    <p class="overlay-background project-description">Xuanzang left his home as a Buddhist monk and returned as a master. He traveled to India in the 7th century to find the complete set of Buddhist texts and returned to China with 47 Buddhist scriptures. Moreover, Xuanzang facilitated the translation of 1,335 Buddhist volumes, increased the fame of the Tang Dynasty, and established communication between Chinese and Indian Buddhist monks. His journey inspired many literary works, including <a href="https://en.wikipedia.org/wiki/Journey_to_the_West">Journey to the West</a>, later considered one of the four great classical novels of Chinese literature. The map is based on the Great Tang Records on the Western Regions, an account of Xuanzang’s journey written by his disciple. The book records Xuanzang’s journey from Chang’an along the Silk Road to Central Asia and eventually to India. The map displays fifteen important points recorded by Xuanzang’s disciple and illustrates the tremendous area covered by Xuanzang in the 7th century.</p>
    <div id='map'></div>
    <script>
    mapboxgl.accessToken = 'pk.eyJ1Ijoia291dGlhbnkiLCJhIjoiY2puZzdxY3V4MDAzcjNtcHVid3RmMTc2eSJ9.jakbkG46bVyAT-ZwxS2ddg'; // replace this with your access token
    var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/koutiany/cjnpaxp2r21d52rqjbsgqgvjo', // replace this with your style URL
      center: [88.00, 35.00],
      zoom: 3.8
    });
    map.on('click', function(e) {
      var features = map.queryRenderedFeatures(e.point, {
        layers: ['xuanzang'] // replace this with the name of the layer
      });

      if (!features.length) {
        return;
      }

      var feature = features[0];

      var popup = new mapboxgl.Popup({ offset: [0, -15] })
        .setLngLat(feature.geometry.coordinates)
        .setHTML('<h3>' + feature.properties.name + '</h3><p>' + feature.properties.description + '</p><p>' + feature.properties.image + '</p><p>' + feature.properties.wikipedia + '</p>')
        .setLngLat(feature.geometry.coordinates)
        .addTo(map);
    });
    </script>
  </body>
</html>
